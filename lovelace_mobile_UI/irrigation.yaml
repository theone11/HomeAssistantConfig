# lovelace_gen

#--------------------------------------------------------------------------------------------------
# Irrigation
#--------------------------------------------------------------------------------------------------
#                             entity                      , type  , left, top, display_name)
{% set group_irrigation_left, group_irrigation_top = 53 ,31 %}

{% set irrigation_valves = [("irrigation_sprinkler_west" , "switch", 78, 34, "West Sprinklers"),
                            ("irrigation_sprinkler_north", "switch", 82, 51, "North Sprinklers"),
                            ("irrigation_drips"          , "switch", 87, 55, "Drips")] %}

title: Irrigation
path: irrigation
icon: 'mdi:water'
badges: []
cards:
  - type: grid
    columns: 1
    square: false
    cards:
    - type: entities
      title: Irrigation System
      show_header_toggle: false
      entities:
      {% for entity, type, left, top, display_name in irrigation_valves %}
        - entity: {{ type }}.{{ entity }}
      {% endfor %}

    - type: grid
      columns: {{ irrigation_valves | count }}
      square: false
      title: Choose which irrigation valves to open during the cycle
      cards:
        {% for entity in irrigation_valves %}
        - type: custom:button-card
          entity: input_boolean.{{ entity[0] }}
          show_name: true
        {% endfor %}
    - type: grid
      columns: 1
      square: false
      title: Choose Duration and Start Time
      cards:
        - type: 'custom:slider-entity-row'
          entity: input_number.irrigation_duration
          hide_state: false
        - type: 'custom:time-picker-card'
          entity: input_datetime.irrigation_start_time
          layout:
            embedded: true
            name: inside
            align_controls: right
    - type: grid
      columns: 2
      square: false
      cards:
        - type: custom:button-card
          entity: input_boolean.irrigation_immediate
          show_name: false
        - type: custom:button-card
          entity: input_boolean.irrigation_future
          show_name: false
    - type: custom:timer-bar-card
      compressed: true
      name: Timers
      entities:
        {% for entity in irrigation_valves %}
        - timer.{{ entity[0] }}
        {% endfor %}
    - type: history-graph
      title: History
      hours_to_show: 72
      entities:
        {% for entity in irrigation_valves %}
        - entity: switch.{{ entity[0] }}
        {% endfor %}
